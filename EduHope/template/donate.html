{% extends 'base.html' %}

{% block title %}Donate - EduHope{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <h1 class="display-5 fw-bold text-primary mb-4">Support Our Mission</h1>
      <p class="lead text-muted mb-5">
        Your donation helps us provide quality education to children in need. Every contribution makes a difference.
      </p>
      
      <div class="card border-0 shadow-sm">
        <div class="card-body p-4 p-md-5">
          <form id="donationForm">
            {% csrf_token %}
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="donorName" class="form-label">Full Name *</label>
                <input type="text" class="form-control" id="donorName" name="name" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="donorEmail" class="form-label">Email Address *</label>
                <input type="email" class="form-control" id="donorEmail" name="email" required>
              </div>
            </div>
            
            <div class="mb-4">
              <label class="form-label">Donation Amount *</label>
              <div class="btn-group w-100" role="group">
                <input type="radio" class="btn-check" name="amount" id="amount25" value="25" autocomplete="off">
                <label class="btn btn-outline-primary" for="amount25">$25</label>
                
                <input type="radio" class="btn-check" name="amount" id="amount50" value="50" autocomplete="off" checked>
                <label class="btn btn-outline-primary" for="amount50">$50</label>
                
                <input type="radio" class="btn-check" name="amount" id="amount100" value="100" autocomplete="off">
                <label class="btn btn-outline-primary" for="amount100">$100</label>
                
                <input type="radio" class="btn-check" name="amount" id="amount250" value="250" autocomplete="off">
                <label class="btn btn-outline-primary" for="amount250">$250</label>
                
                <input type="radio" class="btn-check" name="amount" id="amountOther" value="other" autocomplete="off">
                <label class="btn btn-outline-primary" for="amountOther">Other</label>
              </div>
              <div class="mt-3" id="otherAmountContainer" style="display: none;">
                <input type="number" class="form-control" id="otherAmount" name="otherAmount" placeholder="Enter amount" min="1">
              </div>
            </div>
            
            <div class="mb-4">
              <label for="donationMessage" class="form-label">Message (Optional)</label>
              <textarea class="form-control" id="donationMessage" name="message" rows="3"></textarea>
            </div>
            
            <div class="mb-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="anonymous" name="anonymous">
                <label class="form-check-label" for="anonymous">
                  Make this donation anonymous
                </label>
              </div>
            </div>
            
            <div class="d-grid">
              <button type="submit" class="btn btn-primary btn-lg rounded-pill py-3 fw-semibold">
                <i class="bi bi-heart-fill me-2"></i>Donate Now
              </button>
            </div>
          </form>
          
          <!-- AJAX Feedback Messages -->
          <div id="donationFeedback" class="mt-4"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Show/hide other amount field
document.addEventListener('DOMContentLoaded', function() {
    const otherAmountRadio = document.getElementById('amountOther');
    const otherAmountContainer = document.getElementById('otherAmountContainer');
    
    if (otherAmountRadio) {
        otherAmountRadio.addEventListener('change', function() {
            otherAmountContainer.style.display = this.checked ? 'block' : 'none';
        });
    }
});
</script>
{% endblock %}